
@{
    ViewData["Title"] = "TrangChu";
    Layout = "~/Views/Shared/_LayoutTrangChu.cshtml";
}


@* @using X.PagedList;
@using X.PagedList.Mvc.Core;
@model X.PagedList.IPagedList<SanPham> *@
@model List<SanPham>;


	<div class="main">
		<div class="main">
		@foreach (var danhMuc in Model.Select(item => item.MaDanhMuc).Distinct())
{
    <div class="content_top">
        <div class="heading">
            <h3>@danhMuc</h3>
        </div>
        <div class="see">
            <p><a asp-area="" asp-controller="Home" asp-action="TrangTatcaSanPham" asp-route-selectedDanhMuc="@danhMuc">Xem tất cả sản phẩm</a></p>
        </div>
        <div class="clear"></div>
    </div>
    <div class="section group" style="width:100%">
        @{
            var productsInDanhMuc = Model.Where(sp => sp.MaDanhMuc == danhMuc).Take(4).ToList();
        }

        @foreach (var item in productsInDanhMuc)
        {
            <div class="grid_1_of_4 images_1_of_4" style="width:22%; margin-left:30px">
                
                <a asp-area="" asp-controller="Home" asp-action="TrangSanPham" asp-route-MaSP="@item.MaSanPham"><img src="@Url.Content("~/UserLayout/images/" + item.Anh)" alt="Hình ảnh" /></a>
                <a asp-area="" asp-controller="Home" asp-action="TrangSanPham" asp-route-MaSP="@item.MaSanPham"><h2>@item.TenSanPham</h2></a>
               
                <div class="price-details">
                    <div class="price-number">
                        <p><span class="rupees">$@item.GiaBan</span></p>
                    </div>
                    <div class="add-cart">
                                <form asp-controller="Cart" asp-action="AddToCart" asp-route-id="@item.MaSanPham" method="post">
                                <button type="submit">Thêm vào giỏ hàng</button>
                                </form>
                    </div>
                    <div class="clear"></div>
                </div>
            </div>
        }
    </div>
}

	</div>
	</div>
	</div>
	</div>
